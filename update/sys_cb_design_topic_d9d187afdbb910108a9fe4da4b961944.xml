<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Update Change Request">45d187afdbb910108a9fe4da4b961941</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"d2be9be0531743de890abec106e27f01","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"d2be9be0531743de890abec106e27f01"}],"goals":[{"name":"primary","trigger_id":"d2be9be0531743de890abec106e27f01","nodes":[{"type":"StartGoal","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","greeting_msg":{"type":"String","mode":"string","value":""},"id":"6878066936494e1cb7cb26a9d1dae1b9","name":"Start","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"TerminateGoal","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"ad7c3ccc850d4eb0af2e96e127dc5f54","name":"End","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    var count = 0;\n\n    var changeGr = new GlideAggregate('change_request');\n    changeGr.addQuery('active', true);\n    changeGr.addQuery('assigned_to', vaInputs.user);\n    changeGr.addAggregate('COUNT');\n    changeGr.query();\n\n    if (changeGr.next())\n        count = changeGr.getAggregate('COUNT');\n    \n    // set count variable\n    vaVars.count = count;\n})();\n","id":"c1d0cee6ab74496abad01b5d31192ab4","name":"Check Assigned Change Requests","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Change Request Count Decision","branches":[{"type":"Branch","label":"Single","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return parseInt(vaVars.count) == 1;\n})();\n"},"id":"a0d4ed7af92c41f6b5cdc68281e4c5cf","name":"Single"},{"type":"Branch","label":"Multiple","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return parseInt(vaVars.count) &gt; 1;\n})();\n"},"id":"bb1c97d3122f4f5fa3db2b7367037f73","name":"Multiple"},{"type":"Branch","label":"None","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return parseInt(vaVars.count) == 0;\n})();\n"},"id":"a67d0f609cee41f4abd17d05901756f8","name":"None"}],"id":"84bfec346926462694649765b59ba8cc","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"You have one change request:\", vaContext.getRequesterLang())"},"id":"6fb80285a40b4908900313e643c394d0","name":"Single Change Request","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"43bc2ae037df42c28172ae527b47fc6b","name":"Update Field","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"1c23ae3e588e486b9ec691d871206b18","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"What would you like to do?\", vaContext.getRequesterLang())"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","name":"changefield","allow_text_input":true,"use_confirmation_prompt":false}},{"type":"Decision","name":"Update Field Decision","branches":[{"type":"Branch","label":"Start Date","expression":{"type":"Applicability","mode":"query","value":"update_field=start_date"},"id":"deeda9ef65bc4a26b119596f2c74d46b","name":"Start Date"},{"type":"Branch","label":"Skip","expression":{"type":"Applicability","mode":"query","value":"update_field=skip"},"id":"f46c4608bac14316a4367d5e2dda098b","name":"Skip"},{"type":"Branch","label":"Work Note","expression":{"type":"Applicability","mode":"query","value":"update_field=work_note"},"id":"eb1a513301f44ed38efe88ae30f3660a","name":"Work Note"},{"type":"Branch","label":"End Date","expression":{"type":"Applicability","mode":"query","value":"update_field=end_date"},"id":"e0bdbadfabe944588ae8c0c3a993fa64","name":"End Date"}],"id":"1bdaa85b78934e70be6302b012763a5a","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"1d52e211c35a4e18a031b8ff72b7266f","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Please enter the work note.\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","name":"","allow_text_input":false,"use_confirmation_prompt":true},"optional":false,"id":"4adb001daeee4b31836eb0c6194ca507","name":"Work Note","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"I've updated your change request!\", vaContext.getRequesterLang())"},"id":"8661550ae92547a887fb115addb2d51b","name":"Change Request Updated","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"3d287bee26664424bccd59da601d71a6","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Please select the start date and time:\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","name":"","allow_text_input":false,"use_confirmation_prompt":true},"optional":false,"id":"c76f109f01ba42e39b4ab19cb701d931","name":"Actual Start Date","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"55dc475df19d46549a34588fe878df90","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Please select the end date and time:\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","name":"","allow_text_input":false,"use_confirmation_prompt":true},"optional":false,"id":"888c242959b1473c911c6e31cfd38cf5","name":"Actual End Date","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    if (parseInt(vaVars.count) == 1) {\n        var changeGr = new GlideRecordSecure('change_request');\n        changeGr.addQuery('active', true);\n        changeGr.addQuery('assigned_to', vaInputs.user);\n        changeGr.query();\n\n        if (changeGr.next())\n            vaVars.change_selected = changeGr.getUniqueValue();\n    } else {\n        if (vaInputs.assigned_change != '')\n            vaVars.change_selected = vaInputs.assigned_change;\n    }\n})();","id":"3a3b3a43bb184c7383cc0a2f3ebf88aa","name":"Set Selected Change Request","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"8d0972415a784d31a731afa1d26ad63e","name":"Assigned Change","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"a13e944d738b49e884c958bd6a929559","message":{"type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('You have {0} change requests. Which request do you want to update?', vaVars.count);\n})();\n"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","name":"changenumber","allow_text_input":true,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var options = [];\n    \n    var changeGr = new GlideRecordSecure('change_request');\n    changeGr.addActiveQuery();\n    changeGr.addQuery('assigned_to', vaInputs.user);\n    changeGr.orderBy('number');\n    changeGr.chooseWindow(index, index + limit, true);\n    changeGr.query();\n\n    var count = changeGr.getRowCount();\n    \n    while(changeGr.next()) {\n        options.push({ 'value': changeGr.getUniqueValue(), \n            'label': changeGr.getDisplayValue('short_description') + ' [' + changeGr.getValue('number') + ']'});\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    options.push({ 'value': 'skip', 'label': gs.getMessage('I\\'m done')});\n\n    return options;\n})();","no_options_found_message":{"type":"String","mode":"string","value":"No Records Found."},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var options = [];\n    \n    var changeGr = new GlideRecordSecure('change_request');\n    changeGr.addActiveQuery();\n    changeGr.addQuery('assigned_to', vaInputs.user);\n    changeGr.orderBy('number');\n    changeGr.chooseWindow(index, index + limit, true);\n    changeGr.query();\n\n    var count = changeGr.getRowCount();\n    \n    while(changeGr.next()) {\n        options.push({ 'value': changeGr.getUniqueValue(), \n            'label': changeGr.getDisplayValue('short_description') + ' [' + changeGr.getValue('number') + ']'});\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    options.push({ 'value': 'skip', 'label': gs.getMessage('I\\'m done')});\n\n    return options;\n})();"}},{"type":"Decision","name":"Assigned Change Decision","branches":[{"type":"Branch","label":"Change selected","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return (vaInputs.assigned_change != 'next' &amp;&amp; vaInputs.assigned_change != 'prev' &amp;&amp; vaInputs.assigned_change != 'skip' &amp;&amp; parseInt(vaVars.count) &gt; 0);\n})();"},"id":"36ffb5638230485796be48ba2e159a33","name":"Change selected"},{"type":"Branch","label":"Previous","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.assigned_change.getValue() == 'prev';\n})();\n"},"id":"c43d60704f01467db26a14e118825766","name":"Previous"},{"type":"Branch","label":"Skip","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.assigned_change == 'skip';\n})();\n"},"id":"f99a43a8f7e942fda883022ea28c3c03","name":"Skip"},{"type":"Branch","label":"Next","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.assigned_change.getValue() == 'next';\n})();\n"},"id":"8a2253d073be4ef5bbcaefe56dce86db","name":"Next"}],"id":"265ebfd1d1ee4c7ea49c1bed02b81c5f","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"16d5072ed6b04613b08af8a8d1e1ca54","name":"Previous Page","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"7c615982dcac40beb94d1bb1911969a9","name":"Next Page","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"I couldn't find any open change requests assigned to you.\", vaContext.getRequesterLang())"},"id":"4784844f99f846d989d1bd0f7cd3149a","name":"No Assigned Changes","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    var changeGr = vaInputs.get_change_request;\n        if (changeGr.work_start != '')\n            vaVars.can_select_end_date = true;\n        else\n            vaVars.can_select_end_date = false;    \n})();\n","id":"148e49ae2faa4c9c87fc537fb8aaf835","name":"Can select End Date","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Select End Date Decision","branches":[{"type":"Branch","label":"Cannot select","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaVars.can_select_end_date;\n})();\n"},"id":"cfe3096b76d84d31abad3810dd9a8c85","name":"Cannot select"},{"type":"Branch","label":"Can select","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.can_select_end_date;\n})();\n"},"id":"6ed88f7630f04450b361420817d7d36b","name":"Can select"}],"id":"daea9c6edcde4f12883d0416ec41bbbf","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Actual Start Date has not been set for the change request\", vaContext.getRequesterLang())"},"id":"c5265e03e8374e5e8a353f2b8bf16008","name":"Prompt for Start Date","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    var startDate;\n    if (vaInputs.actual_start_date &amp;&amp; vaInputs.actual_start_date != '')\n        startDate = vaInputs.actual_start_date;\n    else {\n        var changeGr = vaInputs.get_change_request;\n        startDate = changeGr.work_start;\n    }\n    \n    if (vaInputs.actual_end_date &gt; startDate)\n        vaVars.is_valid_end_date = true;\n    else\n        vaVars.is_valid_end_date = false;\n})();\n","id":"8964f837e7fb4fb79876ce403ef1cd4a","name":"Validate End Date","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Valid End Date Decision","branches":[{"type":"Branch","label":"Valid","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.is_valid_end_date;\n})()\n"},"id":"9a8558929d71422294cfea6e2f7ef066","name":"Valid"},{"type":"Branch","label":"Invalid","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaVars.is_valid_end_date;\n})()\n"},"id":"a10118f1e7f04b77af36534bdd4917bf","name":"Invalid"}],"id":"64ae958c7a8e493bbd1ee29b11e77ff4","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Sorry, the actual end date can't be before the actual start date.\", vaContext.getRequesterLang())"},"id":"9227b67f738341e189c9cb3fb15ff41e","name":"Invalid End Date","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"End Date flow Decision","branches":[{"type":"Branch","label":"Not End Date flow","expression":{"type":"Applicability","mode":"query","value":"update_field!=end_date"},"id":"1e63dbaf4a6f4fb49207a0c9e2fb684a","name":"Not End Date flow"},{"type":"Branch","label":"End Date flow","expression":{"type":"Applicability","mode":"query","value":"update_field=end_date"},"id":"fe897368cf4642f094893cf4ec1653e6","name":"End Date flow"}],"id":"86b4d9c43d194728a7e4baa20e94687c","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n\n    var changeGr = new GlideRecordSecure(\"change_request\");\n    if (changeGr.get(vaVars.change_selected)) {\n        if (vaInputs.work_note != '')\n            changeGr.comments = vaInputs.work_note;\n        if (vaInputs.actual_start_date != '')\n            changeGr.work_start = vaInputs.actual_start_date;\n        if (vaInputs.actual_end_date != '')\n            changeGr.work_end = vaInputs.actual_end_date;\n\n        changeGr.update();\n    }\n    \n})();\n","id":"8e29e3eb686a4c5ab89e20418e72b572","name":"Update Change Request","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Count Decision","branches":[{"type":"Branch","label":"Multiple","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return parseInt(vaVars.count) &gt; 1;\n})()\n"},"id":"b710e22806bd48bf8f238ed2b89190aa","name":"Multiple"},{"type":"Branch","label":"Single","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return parseInt(vaVars.count) == 1;\n})()\n"},"id":"d2fb7800132b45b3830f66eb606a496b","name":"Single"}],"id":"cfa3fa756e0d434aa947d31ff4b4c8ca","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"4c3159d3b35e4fe18e16660b6b1dd506","name":"Update Other","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"57020f33b1fd40418f9a9b66012303d6","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Would you like to update something else?\", vaContext.getRequesterLang())"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","name":"","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"Decision","name":"Update Again Decision","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"update_again=false"},"id":"7c6c41ce178c4aaaa13631da72e408f2","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"update_again=true"},"id":"a965862f15c24667b0bd11349bd840e5","name":"Yes"}],"id":"fb9f6b54c5be45f9821feb707d6f91e3","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Update Other Decision","branches":[{"type":"Branch","label":"Done","expression":{"type":"Applicability","mode":"query","value":"update_other=done"},"id":"9257101ba76a435782b30f3ad0a71e3e","name":"Done"},{"type":"Branch","label":"Same Change Request","expression":{"type":"Applicability","mode":"query","value":"update_other=same"},"id":"c83ef4b6aa0a43e5a88cb0a987785240","name":"Same Change Request"},{"type":"Branch","label":"Another Change Request","expression":{"type":"Applicability","mode":"query","value":"update_other=another"},"id":"9264dc1749674f289e67836f138c7c62","name":"Another Change Request"}],"id":"7875b511dba8497ba77ba5fd4e8686e9","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {    \n    var changeGr = vaInputs.get_change_request;\n    var endDate = changeGr.work_end;\n\n    if (endDate == '' || endDate &gt; vaInputs.actual_start_date)\n        vaVars.is_valid_start_date = true;\n    else\n        vaVars.is_valid_start_date = false;\n})();\n","id":"ca3368b6b826462d8fe2b6266d1661d2","name":"Validate Start Date","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Valid Start Date Decision","branches":[{"type":"Branch","label":"Valid","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.is_valid_start_date;\n})();\n"},"id":"04684ade43424ea586882caff548ca12","name":"Valid"},{"type":"Branch","label":"Invalid","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaVars.is_valid_start_date;\n})();\n"},"id":"f001b31cfbfa46aab1a45412cce399cf","name":"Invalid"}],"id":"42aef356b5ee4bfbb515787626bd2940","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Sorry, the actual start date can't be after the actual end date.\", vaContext.getRequesterLang())"},"id":"0870ac258be944e5b3b7f03e0b249b6a","name":"Invalid Start Date","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    vaVars.index = 0;\n})()\n","id":"abcf1f8579064ae4afe0600e6a4602f3","name":"Reset Index","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"script","table":"change_request","script":"(function execute(table) {\n    var gr = new GlideRecord(table);\n    if (gr.get(vaVars.change_selected)) {\n        return gr;\n    }\n})(table);\n","fields":["short_description","priority","state","start_date","end_date"],"id":"87308f0ce0b3414093d8bec219b97a22","name":"Selected Change Request Card","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n    var gr = new GlideRecord(table);\n    if (gr.get(vaVars.change_selected)) {\n        return gr;\n    }\n})(table);\n"}},{"type":"CRUDAction","mode":"read","read_mode":"variable","variable_id":"a373ca0217d04dbabb527b2af9cff8e8","script":"(function execute(table) {\n    var gr = new GlideRecordSecure(table);\n    if (gr.get(vaVars.change_selected)) {\n        return gr;\n    }\n})(table)\n","id":"e321a708af8742e695ea855a327a4958","name":"Get Change Request","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n    var gr = new GlideRecordSecure(table);\n    if (gr.get(vaVars.change_selected)) {\n        return gr;\n    }\n})(table)\n"}},{"type":"InputPrompt","variable_id":"398eeab6c11540229b1b88acc0f13b36","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Would you like to update anything else?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","name":"","allow_text_input":false,"use_confirmation_prompt":true},"optional":false,"id":"784f3d35ce9f41bca0bbba8bf940b03e","name":"Update Again","goal_id":"b9597e252bac4c3aa158ad2cf640c26c","applicability":{"type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"784f3d35ce9f41bca0bbba8bf940b03e","target_node_id":"fb9f6b54c5be45f9821feb707d6f91e3","id":"f6dda842aa544635ab90915c1fb924d9"},{"type":"Edge","source_node_id":"1bdaa85b78934e70be6302b012763a5a","target_node_id":"c76f109f01ba42e39b4ab19cb701d931","branch_id":"deeda9ef65bc4a26b119596f2c74d46b","id":"e54491852a624c78b2c8fb5c8f444ea2","name":"deeda9ef65bc4a26b119596f2c74d46b"},{"type":"Edge","source_node_id":"daea9c6edcde4f12883d0416ec41bbbf","target_node_id":"c5265e03e8374e5e8a353f2b8bf16008","branch_id":"cfe3096b76d84d31abad3810dd9a8c85","id":"94975ad2c8c54e41840adbc9420d0094","name":"cfe3096b76d84d31abad3810dd9a8c85"},{"type":"Edge","source_node_id":"148e49ae2faa4c9c87fc537fb8aaf835","target_node_id":"daea9c6edcde4f12883d0416ec41bbbf","id":"2787f513d9844168b2ec69e46a021058"},{"type":"Edge","source_node_id":"64ae958c7a8e493bbd1ee29b11e77ff4","target_node_id":"8e29e3eb686a4c5ab89e20418e72b572","branch_id":"9a8558929d71422294cfea6e2f7ef066","id":"7202be883dd94149a74778a56fa6c385","name":"9a8558929d71422294cfea6e2f7ef066"},{"type":"Edge","source_node_id":"8964f837e7fb4fb79876ce403ef1cd4a","target_node_id":"64ae958c7a8e493bbd1ee29b11e77ff4","id":"4c87abaff0fc47328588bc86c13d5241"},{"type":"Edge","source_node_id":"4adb001daeee4b31836eb0c6194ca507","target_node_id":"8e29e3eb686a4c5ab89e20418e72b572","id":"67d740976a944fdb8e8d20667ea077dd"},{"type":"Edge","source_node_id":"daea9c6edcde4f12883d0416ec41bbbf","target_node_id":"888c242959b1473c911c6e31cfd38cf5","branch_id":"6ed88f7630f04450b361420817d7d36b","id":"6bb4f3ce8636440ebc52efac9f6a71a8","name":"6ed88f7630f04450b361420817d7d36b"},{"type":"Edge","source_node_id":"265ebfd1d1ee4c7ea49c1bed02b81c5f","target_node_id":"3a3b3a43bb184c7383cc0a2f3ebf88aa","branch_id":"36ffb5638230485796be48ba2e159a33","id":"74ead15e22a04dc5a327ca7a5ed08aa5","name":"36ffb5638230485796be48ba2e159a33"},{"type":"Edge","source_node_id":"265ebfd1d1ee4c7ea49c1bed02b81c5f","target_node_id":"16d5072ed6b04613b08af8a8d1e1ca54","branch_id":"c43d60704f01467db26a14e118825766","id":"0b9027db4a404d288360d665b2ee1237","name":"c43d60704f01467db26a14e118825766"},{"type":"Edge","source_node_id":"6878066936494e1cb7cb26a9d1dae1b9","target_node_id":"c1d0cee6ab74496abad01b5d31192ab4","id":"ae354f21ea0e42b8aa2567e84c781b9c"},{"type":"Edge","source_node_id":"c1d0cee6ab74496abad01b5d31192ab4","target_node_id":"84bfec346926462694649765b59ba8cc","id":"5796a583c4e046c6958e9e22d9b137bd"},{"type":"Edge","source_node_id":"84bfec346926462694649765b59ba8cc","target_node_id":"6fb80285a40b4908900313e643c394d0","branch_id":"a0d4ed7af92c41f6b5cdc68281e4c5cf","id":"9616ea4b1854475ba12eddd51939d758","name":"a0d4ed7af92c41f6b5cdc68281e4c5cf"},{"type":"Edge","source_node_id":"43bc2ae037df42c28172ae527b47fc6b","target_node_id":"1bdaa85b78934e70be6302b012763a5a","id":"296748b163674c6aa06306c1cac41994"},{"type":"Edge","source_node_id":"1bdaa85b78934e70be6302b012763a5a","target_node_id":"ad7c3ccc850d4eb0af2e96e127dc5f54","branch_id":"f46c4608bac14316a4367d5e2dda098b","id":"4ba01f9f12d14265bc6142bdc24b01e5","name":"f46c4608bac14316a4367d5e2dda098b"},{"type":"Edge","source_node_id":"1bdaa85b78934e70be6302b012763a5a","target_node_id":"4adb001daeee4b31836eb0c6194ca507","branch_id":"eb1a513301f44ed38efe88ae30f3660a","id":"49d215a5e7ce403fb7ca7b7f319674ec","name":"eb1a513301f44ed38efe88ae30f3660a"},{"type":"Edge","source_node_id":"6fb80285a40b4908900313e643c394d0","target_node_id":"3a3b3a43bb184c7383cc0a2f3ebf88aa","id":"550f362a649e417eb06ebf11b66a4229"},{"type":"Edge","source_node_id":"84bfec346926462694649765b59ba8cc","target_node_id":"8d0972415a784d31a731afa1d26ad63e","branch_id":"bb1c97d3122f4f5fa3db2b7367037f73","id":"126a962b2b554cce92564f7bc54b204b","name":"bb1c97d3122f4f5fa3db2b7367037f73"},{"type":"Edge","source_node_id":"8d0972415a784d31a731afa1d26ad63e","target_node_id":"265ebfd1d1ee4c7ea49c1bed02b81c5f","id":"0c24e96a34114e828e58e18697e1b639"},{"type":"Edge","source_node_id":"265ebfd1d1ee4c7ea49c1bed02b81c5f","target_node_id":"ad7c3ccc850d4eb0af2e96e127dc5f54","branch_id":"f99a43a8f7e942fda883022ea28c3c03","id":"151fb4a6e1484ded977d60dcd83b5d6c","name":"f99a43a8f7e942fda883022ea28c3c03"},{"type":"Edge","source_node_id":"16d5072ed6b04613b08af8a8d1e1ca54","target_node_id":"8d0972415a784d31a731afa1d26ad63e","id":"fb6547de135f4f17a6748c86eb32df05"},{"type":"Edge","source_node_id":"265ebfd1d1ee4c7ea49c1bed02b81c5f","target_node_id":"7c615982dcac40beb94d1bb1911969a9","branch_id":"8a2253d073be4ef5bbcaefe56dce86db","id":"8751d794052741d8a45f5b27b5eac94e","name":"8a2253d073be4ef5bbcaefe56dce86db"},{"type":"Edge","source_node_id":"7c615982dcac40beb94d1bb1911969a9","target_node_id":"8d0972415a784d31a731afa1d26ad63e","id":"0ea7b5ceae8947a691567b0894e27fb1"},{"type":"Edge","source_node_id":"84bfec346926462694649765b59ba8cc","target_node_id":"4784844f99f846d989d1bd0f7cd3149a","branch_id":"a67d0f609cee41f4abd17d05901756f8","id":"180119b033dc46ea83f427f115df2955","name":"a67d0f609cee41f4abd17d05901756f8"},{"type":"Edge","source_node_id":"4784844f99f846d989d1bd0f7cd3149a","target_node_id":"ad7c3ccc850d4eb0af2e96e127dc5f54","id":"b769f8765597441e875a9990bd8f2d53"},{"type":"Edge","source_node_id":"1bdaa85b78934e70be6302b012763a5a","target_node_id":"148e49ae2faa4c9c87fc537fb8aaf835","branch_id":"e0bdbadfabe944588ae8c0c3a993fa64","id":"3929fa6c6cc74d47b8b5338ae2dc70c4","name":"e0bdbadfabe944588ae8c0c3a993fa64"},{"type":"Edge","source_node_id":"c5265e03e8374e5e8a353f2b8bf16008","target_node_id":"c76f109f01ba42e39b4ab19cb701d931","id":"b5de775b1456402e8c5f5b369b128323"},{"type":"Edge","source_node_id":"888c242959b1473c911c6e31cfd38cf5","target_node_id":"8964f837e7fb4fb79876ce403ef1cd4a","id":"b1944c4ea95f4caaa509d0137ebb030e"},{"type":"Edge","source_node_id":"64ae958c7a8e493bbd1ee29b11e77ff4","target_node_id":"9227b67f738341e189c9cb3fb15ff41e","branch_id":"a10118f1e7f04b77af36534bdd4917bf","id":"30405599d2994ec3b2a4a1222efd7191","name":"a10118f1e7f04b77af36534bdd4917bf"},{"type":"Edge","source_node_id":"9227b67f738341e189c9cb3fb15ff41e","target_node_id":"888c242959b1473c911c6e31cfd38cf5","id":"f45e0357b3d7455295ca70d711330b6e"},{"type":"Edge","source_node_id":"86b4d9c43d194728a7e4baa20e94687c","target_node_id":"8e29e3eb686a4c5ab89e20418e72b572","branch_id":"1e63dbaf4a6f4fb49207a0c9e2fb684a","id":"b1000422c1824425a6125ecebe3ce4d0","name":"1e63dbaf4a6f4fb49207a0c9e2fb684a"},{"type":"Edge","source_node_id":"86b4d9c43d194728a7e4baa20e94687c","target_node_id":"888c242959b1473c911c6e31cfd38cf5","branch_id":"fe897368cf4642f094893cf4ec1653e6","id":"db0bd16f371b42468bb232c09dc5b53e","name":"fe897368cf4642f094893cf4ec1653e6"},{"type":"Edge","source_node_id":"8e29e3eb686a4c5ab89e20418e72b572","target_node_id":"8661550ae92547a887fb115addb2d51b","id":"5d4644b8248f49b193aaaeb248e680b8"},{"type":"Edge","source_node_id":"8661550ae92547a887fb115addb2d51b","target_node_id":"cfa3fa756e0d434aa947d31ff4b4c8ca","id":"61d28a9844c1401bafa55afcf198c004"},{"type":"Edge","source_node_id":"cfa3fa756e0d434aa947d31ff4b4c8ca","target_node_id":"4c3159d3b35e4fe18e16660b6b1dd506","branch_id":"b710e22806bd48bf8f238ed2b89190aa","id":"f619b56694d143cdb447ab0ecd507a4e","name":"b710e22806bd48bf8f238ed2b89190aa"},{"type":"Edge","source_node_id":"fb9f6b54c5be45f9821feb707d6f91e3","target_node_id":"ad7c3ccc850d4eb0af2e96e127dc5f54","branch_id":"7c6c41ce178c4aaaa13631da72e408f2","id":"4f47ff5ed9fb465796dc9fa5d213deae","name":"7c6c41ce178c4aaaa13631da72e408f2"},{"type":"Edge","source_node_id":"fb9f6b54c5be45f9821feb707d6f91e3","target_node_id":"43bc2ae037df42c28172ae527b47fc6b","branch_id":"a965862f15c24667b0bd11349bd840e5","id":"897e57e0e8f04f1298113d33e05eee97","name":"a965862f15c24667b0bd11349bd840e5"},{"type":"Edge","source_node_id":"4c3159d3b35e4fe18e16660b6b1dd506","target_node_id":"7875b511dba8497ba77ba5fd4e8686e9","id":"b774788e434640c2aec06f12670f2b94"},{"type":"Edge","source_node_id":"7875b511dba8497ba77ba5fd4e8686e9","target_node_id":"ad7c3ccc850d4eb0af2e96e127dc5f54","branch_id":"9257101ba76a435782b30f3ad0a71e3e","id":"35db1d895cff47d99b072ada5e8b0146","name":"9257101ba76a435782b30f3ad0a71e3e"},{"type":"Edge","source_node_id":"7875b511dba8497ba77ba5fd4e8686e9","target_node_id":"43bc2ae037df42c28172ae527b47fc6b","branch_id":"c83ef4b6aa0a43e5a88cb0a987785240","id":"cf9facb7577e4526b83a8e61bce1c572","name":"c83ef4b6aa0a43e5a88cb0a987785240"},{"type":"Edge","source_node_id":"c76f109f01ba42e39b4ab19cb701d931","target_node_id":"ca3368b6b826462d8fe2b6266d1661d2","id":"91b88b37f00b443d8b76fb19ea69e71c"},{"type":"Edge","source_node_id":"ca3368b6b826462d8fe2b6266d1661d2","target_node_id":"42aef356b5ee4bfbb515787626bd2940","id":"48faae31d2504f948863175f06e9e666"},{"type":"Edge","source_node_id":"42aef356b5ee4bfbb515787626bd2940","target_node_id":"86b4d9c43d194728a7e4baa20e94687c","branch_id":"04684ade43424ea586882caff548ca12","id":"dddb042a8950422d91a57848c222736f","name":"04684ade43424ea586882caff548ca12"},{"type":"Edge","source_node_id":"42aef356b5ee4bfbb515787626bd2940","target_node_id":"0870ac258be944e5b3b7f03e0b249b6a","branch_id":"f001b31cfbfa46aab1a45412cce399cf","id":"b02e6974046f453a9d7708f3bd3bca99","name":"f001b31cfbfa46aab1a45412cce399cf"},{"type":"Edge","source_node_id":"0870ac258be944e5b3b7f03e0b249b6a","target_node_id":"c76f109f01ba42e39b4ab19cb701d931","id":"3daaa079c31b419a8719955ad53d1b79"},{"type":"Edge","source_node_id":"7875b511dba8497ba77ba5fd4e8686e9","target_node_id":"abcf1f8579064ae4afe0600e6a4602f3","branch_id":"9264dc1749674f289e67836f138c7c62","id":"ed57c71affd34e35beafa802d415f9e3","name":"9264dc1749674f289e67836f138c7c62"},{"type":"Edge","source_node_id":"abcf1f8579064ae4afe0600e6a4602f3","target_node_id":"8d0972415a784d31a731afa1d26ad63e","id":"74c678970210405293ce4251deeb449a"},{"type":"Edge","source_node_id":"87308f0ce0b3414093d8bec219b97a22","target_node_id":"43bc2ae037df42c28172ae527b47fc6b","id":"306a1ed3cfa84f568eb66040ee6ba5be"},{"type":"Edge","source_node_id":"3a3b3a43bb184c7383cc0a2f3ebf88aa","target_node_id":"e321a708af8742e695ea855a327a4958","id":"7a243a1a7bd64e488dd49ea3c45b8da0"},{"type":"Edge","source_node_id":"e321a708af8742e695ea855a327a4958","target_node_id":"87308f0ce0b3414093d8bec219b97a22","id":"d1f0d585741f4723beb14dccb9122e36"},{"type":"Edge","source_node_id":"cfa3fa756e0d434aa947d31ff4b4c8ca","target_node_id":"784f3d35ce9f41bca0bbba8bf940b03e","branch_id":"d2fb7800132b45b3830f66eb606a496b","id":"e6a892e438424049904f5910735423b8","name":"d2fb7800132b45b3830f66eb606a496b"}],"id":"b9597e252bac4c3aa158ad2cf640c26c"}],"script_variables":[{"type":"String","name":"LiveAgent_application","value":{"type":"String","mode":"string","value":"itsm"},"id":"c0d5bd9b2e024919b98986c5c65df4a0"},{"type":"String","name":"count","value":{"type":"String","mode":"string","value":"0"},"id":"529afc658f70410b8c622aa5754046d2"},{"type":"String","name":"index","value":{"type":"String","mode":"string","value":"0"},"id":"2dfc4ab3260a4517a98427d71bc8516a"},{"type":"String","name":"limit","value":{"type":"String","mode":"string","value":"5"},"id":"399045618e5a416dbd221a7af5812b3d"},{"type":"String","name":"change_selected","value":{"type":"String","mode":"string"},"id":"d07e2b75b1a042dbb6558fea672ff266"},{"type":"String","name":"can_select_end_date","value":{"type":"String","mode":"string","value":"false"},"id":"9427df2a1bcc437baecb45fffde47a49"},{"type":"String","name":"is_valid_end_date","value":{"type":"String","mode":"string","value":"false"},"id":"c2ab16c1f6e64e99b73923d1a568a04d"},{"type":"String","name":"is_valid_start_date","value":{"type":"String","mode":"string","value":"false"},"id":"bdbb9b8891be4f7e94d25b987b75be68"}],"glide_variables":[{"type":"Choice","choices":[{"name":"Add a work note","element":"work_note"},{"name":"Set actual start date","element":"start_date"},{"name":"Set actual end date","element":"end_date"},{"name":"Nothing I'm done","element":"skip"}],"id":"1c23ae3e588e486b9ec691d871206b18","name":"update_field"},{"type":"String","name":"work_note","id":"1d52e211c35a4e18a031b8ff72b7266f"},{"type":"Date/Time","mode":"date_time","id":"3d287bee26664424bccd59da601d71a6","name":"actual_start_date"},{"type":"Date/Time","mode":"date_time","id":"55dc475df19d46549a34588fe878df90","name":"actual_end_date"},{"type":"Choice","choices":[],"id":"a13e944d738b49e884c958bd6a929559","name":"assigned_change","table":""},{"type":"Choice","choices":[{"name":"Another update in the same change request","element":"same"},{"name":"Update another change request","element":"another"},{"name":"No, I'm done","element":"done"}],"id":"57020f33b1fd40418f9a9b66012303d6","name":"update_other"},{"type":"Reference","table":"change_request","id":"a373ca0217d04dbabb527b2af9cff8e8","name":"get_change_request"},{"type":"True/False","id":"398eeab6c11540229b1b88acc0f13b36","name":"update_again"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":["itil"],"scope":"134450a0b3781300787162ac16a8dc1e","domain":"global","id":"d28b32f30b8023006237818393673ac8","name":"Update Change Request","key_phrases":["update","change request","change","request","cr","update cr","actual start","actual end","chg"],"nlu_provider":"","nlu_model":"sn_itsm_nlu_ITSM_NLU_for_VA","nlu_model_label":"","nlu_intent":"UpdateChangeRequest","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"bfdd66da0b203300a1b16c2367673a1f","library":false}</design_definition>
        <design_topic_id>d28b32f30b8023006237818393673ac8</design_topic_id>
        <name>Update Change Request</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-07-10 18:05:06</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>d9d187afdbb910108a9fe4da4b961944</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_d9d187afdbb910108a9fe4da4b961944</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-07-10 18:05:06</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
